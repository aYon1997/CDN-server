# ğŸ” GitHub Actions æƒé™é…ç½®æŒ‡å—

<div align="center">

**è§£å†³ GitHub Actions éƒ¨ç½²æƒé™é—®é¢˜çš„å®Œæ•´æŒ‡å—**

[![GitHub](https://img.shields.io/badge/GitHub-Actions-2088FF?logo=github-actions)](https://github.com/features/actions)
[![Status](https://img.shields.io/badge/Status-Updated-success)]()

[ğŸš¨ å¸¸è§é”™è¯¯](#-å¸¸è§é”™è¯¯) â€¢ [ğŸ“‹ é…ç½®æ­¥éª¤](#-å¿…éœ€çš„æƒé™é…ç½®) â€¢ [ğŸ” æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)

</div>

---

## ğŸš¨ å¸¸è§é”™è¯¯

### Exit Code 128 é”™è¯¯

å¦‚æœæ‚¨é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š

```bash
Error: Action failed with "The process '/usr/bin/git' failed with exit code 128"
```

è¿™é€šå¸¸è¡¨ç¤º GitHub Actions æ²¡æœ‰è¶³å¤Ÿçš„æƒé™æ¨é€åˆ°ä»“åº“ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½®æƒé™ï¼š

## ğŸ“‹ å¿…éœ€çš„æƒé™é…ç½®

### 1. ä»“åº“çº§åˆ«æƒé™è®¾ç½®

è¯·åˆ°æ‚¨çš„GitHubä»“åº“è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š

#### æ­¥éª¤1ï¼šè¿›å…¥ä»“åº“Settings
1. æ‰“å¼€æ‚¨çš„GitHubä»“åº“ï¼š`https://github.com/ayon1997/CDN-server`
2. ç‚¹å‡»ä»“åº“é¡µé¢å³ä¸Šè§’çš„ **Settings** é€‰é¡¹å¡

#### æ­¥éª¤2ï¼šé…ç½®Actionsæƒé™
1. åœ¨å·¦ä¾§å¯¼èˆªæ ä¸­ï¼Œç‚¹å‡» **Actions** â†’ **General**
2. æ‰¾åˆ° **Workflow permissions** éƒ¨åˆ†
3. é€‰æ‹© **Read and write permissions** âœ…
4. å‹¾é€‰ **Allow GitHub Actions to create and approve pull requests** âœ…
5. ç‚¹å‡» **Save** ä¿å­˜è®¾ç½®

### 2. GitHub Pages è®¾ç½®

#### æ­¥éª¤1ï¼šå¯ç”¨GitHub Pages
1. åœ¨Settingsé¡µé¢ï¼Œæ»šåŠ¨åˆ°å·¦ä¾§å¯¼èˆªæ çš„ **Pages** é€‰é¡¹
2. åœ¨ **Source** éƒ¨åˆ†ï¼Œé€‰æ‹© **Deploy from a branch**
3. åœ¨ **Branch** ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹© **gh-pages**
4. æ–‡ä»¶å¤¹ä¿æŒ **/ (root)**
5. ç‚¹å‡» **Save**

#### æ­¥éª¤2ï¼šç­‰å¾…åˆå§‹éƒ¨ç½²
é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡éƒ¨ç½²ï¼š
1. æ¨é€ä»»ä½•æ›´æ”¹åˆ°mainåˆ†æ”¯
2. ç­‰å¾…GitHub Actionå®Œæˆ
3. æ£€æŸ¥Pagesè®¾ç½®æ˜¯å¦è‡ªåŠ¨æ£€æµ‹åˆ°gh-pagesåˆ†æ”¯

## ğŸ”„ é‡æ–°è¿è¡Œéƒ¨ç½²

å®Œæˆæƒé™é…ç½®åï¼š

### æ–¹æ³•1ï¼šæ¨é€æ–°æäº¤
```bash
# åœ¨dev2åˆ†æ”¯ä¸Š
git commit --allow-empty -m "è§¦å‘é‡æ–°éƒ¨ç½²"
git push origin dev2
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
1. è¿›å…¥ä»“åº“çš„ **Actions** é¡µé¢
2. é€‰æ‹©æœ€è¿‘å¤±è´¥çš„å·¥ä½œæµ
3. ç‚¹å‡» **Re-run jobs** â†’ **Re-run all jobs**

## ğŸ“Š æƒé™éªŒè¯æ¸…å•

ç¡®ä¿ä»¥ä¸‹æƒé™éƒ½å·²æ­£ç¡®é…ç½®ï¼š

- [x] **Workflow permissions**: Read and write permissions
- [x] **GitHub Actions**: Allow creating and approving pull requests  
- [x] **GitHub Pages**: Source è®¾ç½®ä¸º gh-pages åˆ†æ”¯
- [x] **Repository**: Actions åŠŸèƒ½å·²å¯ç”¨

## ğŸ¯ é¢„æœŸç»“æœ

é…ç½®å®Œæˆåï¼Œæ‚¨åº”è¯¥èƒ½è®¿é—®ï¼š

| åˆ†æ”¯ | è®¿é—®åœ°å€ | çŠ¶æ€ |
|------|----------|------|
| main | https://ayon1997.github.io/CDN-server/ | âœ… åº”è¯¥å¯ä»¥è®¿é—® |
| dev | https://ayon1997.github.io/dev/CDN-server/ | âœ… é…ç½®åå¯è®¿é—® |
| dev2 | https://ayon1997.github.io/dev2/CDN-server/ | âœ… é…ç½®åå¯è®¿é—® |

## ğŸ” æ•…éšœæ’é™¤

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼š

1. **æ£€æŸ¥ä»“åº“å¯è§æ€§**ï¼šç¡®ä¿ä»“åº“æ˜¯publicï¼ˆç§æœ‰ä»“åº“éœ€è¦Proè´¦æˆ·ï¼‰
2. **éªŒè¯åˆ†æ”¯å­˜åœ¨**ï¼šç¡®è®¤åˆ†æ”¯å·²æ¨é€åˆ°è¿œç¨‹ä»“åº“
3. **æŸ¥çœ‹Actionæ—¥å¿—**ï¼šæ£€æŸ¥è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
4. **ç­‰å¾…ä¼ æ’­**ï¼šDNSæ›´æ”¹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿç”Ÿæ•ˆ

## ğŸ“ æ³¨æ„äº‹é¡¹

- âš ï¸ é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦5-10åˆ†é’Ÿç”Ÿæ•ˆ
- âš ï¸ ç§æœ‰ä»“åº“éœ€è¦GitHub Proæˆ–æ›´é«˜ç­‰çº§è´¦æˆ·
- âš ï¸ ç¡®ä¿`package.json`ä¸­çš„æ„å»ºè„šæœ¬æ­£ç¡®
- âš ï¸ æ£€æŸ¥GitHub Pagesçš„é…é¢é™åˆ¶ï¼ˆæ¯æœˆ100GBå¸¦å®½ï¼‰

## ğŸ†˜ å¦‚æœä»æœ‰é—®é¢˜

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ“ä½œåä»æœ‰é—®é¢˜ï¼Œè¯·ï¼š

1. ğŸ“¸ æˆªå›¾ Actions çš„è¯¦ç»†é”™è¯¯æ—¥å¿—
2. âš™ï¸ ç¡®è®¤ Repository Settings â†’ Pages çš„é…ç½®
3. ğŸ›¡ï¸ æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–åˆ†æ”¯ä¿æŠ¤è§„åˆ™å½±å“
4. âœ… éªŒè¯ GitHub è´¦æˆ·çŠ¶æ€æ­£å¸¸
5. ğŸ’¬ åœ¨ [Issues](https://github.com/aYon1997/CDN-server/issues) ä¸­æé—®

## ğŸ“š å‚è€ƒèµ„æº

- [GitHub Actions å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/actions)
- [GitHub Pages é…ç½®æŒ‡å—](https://docs.github.com/en/pages)
- [peaceiris/actions-gh-pages æ–‡æ¡£](https://github.com/peaceiris/actions-gh-pages)

---

<div align="center">

**é…ç½®å®Œæˆåï¼Œæ‚¨çš„ GitHub Pages åº”è¯¥å°±èƒ½æ­£å¸¸éƒ¨ç½²äº†ï¼** ğŸ‰

[â¬†ï¸ è¿”å›é¡¶éƒ¨](#-github-actions-æƒé™é…ç½®æŒ‡å—) â€¢ [ğŸ“– è¿”å›ä¸»æ–‡æ¡£](./README.md)

</div> 